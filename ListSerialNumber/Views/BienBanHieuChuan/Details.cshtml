@model ListClass.Model.PhanCong_HieuChinh_HieuChuan
@{
    ViewBag.Title = "Chi tiết biên bản hiệu chuẩn";
    Layout = "~/Views/Shared/_LayoutHome.cshtml";
    var countSTD = Model.STD_DUTs.Count(m => m.ID != 0);
    var count1 = 1;
    var count3 = 1;
    var count5 = 1;
    var count7 = 1;
}
<style>
    .selectAll2 {
        height: 20px;
        width: 20px;
    }

    .selectAll4 {
        height: 20px;
        width: 20px;
    }

    .selectAll5 {
        height: 20px;
        width: 20px;
    }

    .selectAll6 {
        height: 20px;
        width: 20px;
    }

    .selectAll7 {
        height: 20px;
        width: 20px;
    }

    .selectAll8 {
        height: 20px;
        width: 20px;
    }

    .modal {
        display: none;
        position: fixed;
        z-index: 99;
        left: 0;
        top: 0;
        width: 100%;
        background-color: rgba(0, 0, 0, 0.5);
    }

    .modal-content {
        margin: 10% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 85%;
    }
</style>

<div class="content-wrapper">
    <section>
        <div class="container" style="margin-top:20px;text-align:center">
            <h3><strong style="color:blue">THÔNG TIN KHÁCH HÀNG</strong></h3>
            <table class="table table-bordered table-striped">
                <tr>
                    <th style="vertical-align:middle">Tên KH</th>
                    <th style="vertical-align:middle">Ngành</th>
                    <th style="vertical-align:middle">Tên thiết bị</th>
                    <th style="vertical-align:middle">Model</th>
                    <th style="text-align: center; vertical-align: middle" width="100px">Số SN</th>
                    <th style="text-align: center; vertical-align: middle" width="100px">Hãng</th>
                </tr>
                <tr>
                    @if (Model.KhachHangs != null && Model.KhachHangs.Any())
                    {
                        foreach (var item in Model.KhachHangs)
                        {
                            <td style="vertical-align:middle">@item.TenKH</td>
                            <td style="vertical-align:middle">@item.NhomNganh</td>
                        }
                    }
                    @if (Model.ListNumbers != null && Model.ListNumbers.Any())
                    {
                        foreach (var item in Model.ListNumbers)
                        {
                            <td style="vertical-align:middle">@item.Tenthietbi</td>
                            <td style="vertical-align:middle">@item.Model</td>
                            <td style="text-align:center;vertical-align:middle">@item.SerialNumber</td>
                            <td style="text-align: center; vertical-align:middle">@item.Hang</td>

                        }
                    }
                </tr>
            </table>
        </div>
    </section>
    <section>
        <div class="container" style="margin-top:20px">
            <div class="row">
                <div class="col-md-4" style="text-align:center">
                    <a style="width:100px" class="form-control form-a-control" href="@Url.Action("ThucHien","PhanCong")"><span class="fas fa-backward"> Trở về</span></a>
                </div>
                <div class="title-header col-md-4" style="text-align:center">
                    <h3><strong style="color:blue">BIÊN BẢN HIỆU CHỈNH</strong></h3>
                </div>
                <div class="col-md-4" style="text-align:center;margin-top:10px">
                    @Html.Partial("Message")
                </div>
            </div>
        </div>
    </section>
    <section class="content py-2">
        <div class="container">
            <div class="card">
                <div class="card-header">
                    <div class="form-group form-inline">
                        <div class="row">
                            <div class="col-md-2" style="width:auto">
                                <button class="form-control" style="width: 260px" disabled>
                                    <span style="color:red" class="fas">CHUẨN ĐƯỢC SỬ DỤNG</span>
                                </button>
                            </div>
                            <div class="col-md-2" style="width:auto;">
                                <div class="dropdown-select">
                                    <div class="form-control"><span class="fas fa-list-ul"> Tùy chọn</span></div>
                                    <div class="dropdown-content-select">
                                        <button type="submit" class="editButtonChuanSuDung" name="action" value="Edit">
                                            <span class="fas fa-edit"> Sửa</span>
                                        </button>
                                        <button type="submit" class="deleteButtonChuanSuDung" name="action" value="Delete">
                                            <span class="fas fa-trash"> Xóa</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <a class="form-control form-a-control openAddModalBtn" style="text-decoration: none" href="#" data-id="@Model.PhanCong.Id">
                                    <span class="fas fa-plus"> Tạo</span>
                                </a>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <span class="icon-one" onclick="toggleCardBody(1)">
                                    <ion-icon id="toggle-icon-1" name="arrow-down-outline"></ion-icon>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body hidden" id="card-body-1">
                    <div class="row" style="overflow-x:auto">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th width="70px" style="text-align:center">
                                        <input type="checkbox" class="selectAll" id="selectAll" />
                                    </th>
                                    <th width="30px">No.</th>
                                    <th>Model</th>
                                    <th>Description</th>
                                    <th>Serial No.</th>
                                    <th>Cetificate No.</th>
                                    <th>Cal. Date</th>
                                    <th>Cal. Due</th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.ChuanSuDungs != null && Model.ChuanSuDungs.Any())
                                {
                                    foreach (var item in Model.ChuanSuDungs)
                                    {
                                        <tr>
                                            <td style="text-align:center">
                                                <input type="checkbox" class="selectAll" name="selectedIds" value="@item.Id" />
                                            </td>
                                            <td>1</td>
                                            <td>@Html.DisplayFor(modelItem => item.Model)</td>
                                            <td>@Html.DisplayFor(modelItem => item.Description)</td>
                                            <td>@Html.DisplayFor(modelItem => item.Serial)</td>
                                            <td>@Html.DisplayFor(modelItem => item.Cetificate)</td>
                                            <td>@Html.DisplayFor(modelItem => item.Cal_Date)</td>
                                            <td>@Html.DisplayFor(modelItem => item.Cal_Due)</td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td colspan="10" class="text-center">Không có dữ liệu.</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="content py-2">
        <div class="container">
            <div class="card">
                <div class="card-header">
                    <div class="form-group form-inline">
                        <div class="row">
                            <div class="col-md-2" style="width:auto">
                                <button class="form-control" style="width:260px" disabled><span style="color:red" class="fas">GIÁ TRỊ TRƯỚC HIỆU CHỈNH</span></button>
                            </div>
                            <div class="col-md-2" style="width:auto;">
                                <div class="dropdown-select">
                                    <div class="form-control"><span class="fas fa-list-ul"> Tùy chọn</span></div>
                                    <div class="dropdown-content-select">
                                        <button type="submit" class="editButtonGiaTriTruoc" name="action" value="Edit">
                                            <span class="fas fa-edit"> Sửa</span>
                                        </button>
                                        <button type="submit" class="deleteButtonGiaTriTruoc" name="action" value="Delete">
                                            <span class="fas fa-trash"> Xóa</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <a class="form-control form-a-control openAdd1kenhbeforeModalBtn" style="text-decoration: none" href="#" data-id="@Model.PhanCong.Id">
                                    <span class="fas fa-plus"> Thêm 1 kênh</span>
                                </a>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <a class="form-control form-a-control openAdd4kenhbeforeModalBtn" style="text-decoration: none" href="#" data-id="@Model.PhanCong.Id">
                                    <span class="fas fa-plus"> Thêm 4 kênh</span>
                                </a>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <a class="form-control form-a-control openAddExcelbeforeModalBtn" style="text-decoration: none" href="#" data-id="@Model.PhanCong.Id">
                                    <span class="fas fa-plus"> Thêm từ ( Excel )</span>
                                </a>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <span class="icon-one" onclick="toggleCardBody(2)">
                                    <ion-icon id="toggle-icon-2" name="arrow-down-outline"></ion-icon>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body hidden" id="card-body-2">
                    <div class="row" style="overflow-x:auto">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th width="70px">
                                        <a class="form-control form-a-control openAddDatebeforeModalBtn" style="text-decoration: none" href="#" data-id="@Model.PhanCong.Id">
                                            <span class="fas"> Tạo</span>
                                        </a>
                                    </th>
                                    <th width="50px" style="vertical-align:middle;text-align:center">
                                        No.
                                    </th>
                                    <th style="vertical-align:middle">
                                        Ngày (Date:)
                                    </th>
                                    <th style="vertical-align:middle">
                                        Technicial
                                    </th>
                                    <th style="vertical-align:middle">
                                        Lamp Systems
                                    </th>
                                    <th colspan="2" style="vertical-align:middle">
                                        Bulb / Spectrum
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.NgayTaoTechnicialBuldTruocHieuChinhs != null && Model.NgayTaoTechnicialBuldTruocHieuChinhs.Any())
                                {
                                    int count = 1;
                                    foreach (var item in Model.NgayTaoTechnicialBuldTruocHieuChinhs)
                                    {
                                        <tr>
                                            <td style="text-align:center;vertical-align:middle">
                                                <a class="form-control form-a-control openEditDatebeforeModalBtn" style="text-decoration: none" href="#" data-id="@item.Id">
                                                    <span class="fas"> Sửa</span>
                                                </a>
                                            </td>
                                            <td style="vertical-align: middle; text-align: center">
                                                @count
                                            </td>
                                            <td style="vertical-align:middle">
                                                @item.NgayTao.ToString("dd/MM/yyyy")
                                            </td>
                                            <td style="vertical-align:middle">
                                                @item.Technicial
                                            </td>
                                            <td style="vertical-align:middle">
                                                @if (item.Id_LampSystems != null)
                                                {
                                                    @item.LampSystem.Lamp_Systems
                                                }
                                            </td>
                                            <td style="vertical-align:middle">
                                                @if (item.Id_BulbSpectrum != null)
                                                {
                                                    @item.BulbSpectrum.Bulb_Spectrum
                                                }

                                            </td>
                                            <td width="50px">
                                                <a class="form-control form-a-control-delete openDeleteDatebeforeModalBtn" style="text-decoration: none" href="#" data-id="@item.Id">
                                                    <span class="fas"> Xóa</span>
                                                </a>
                                            </td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td colspan="10" class="text-center">Không có dữ liệu.</td>
                                    </tr>
                                }

                            </tbody>
                        </table>
                        @if (Model.GiaTriTruocHieuChinhs != null && Model.GiaTriTruocHieuChinhs.Any())
                        {
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th width="70px" style="text-align:center ">
                                            <input type="checkbox" class="selectAll2" id="selectAll2" />
                                        </th>
                                        <th width="30px" style="vertical-align: middle; text-align: center">
                                            No.
                                        </th>
                                        <th width="140px" style="vertical-align: middle; text-align: center">
                                            Bước sóng
                                        </th>
                                        <th width="200px">
                                            Measurand
                                        </th>
                                        <th width="200px">
                                            Units
                                        </th>
                                        <th width="200px">
                                            Reference
                                        </th>
                                        <th width="200px">
                                            Instrument
                                        </th>
                                        <th>
                                            Deviation
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.GiaTriTruocHieuChinhs)
                                    {
                                        if (item.BuocSong == "UV-A")
                                        {
                                            <tr>
                                                <td rowspan="2" width="70px" style="text-align:center;vertical-align:middle">
                                                    <input type="checkbox" class="selectAll2" name="selectedIds2" value="@item.Id" />
                                                </td>
                                                <td rowspan="2" width="50px" style="vertical-align: middle; text-align: center">
                                                    1
                                                </td>
                                                <td rowspan="2" width="140px" style="vertical-align:middle;text-align:center">
                                                    @Html.DisplayFor(modelItem => item.BuocSong)
                                                </td>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_1)
                                                </td>
                                                <td width="200px">
                                                    mW/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_1.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_1.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_1.ToString("F3")
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_2)
                                                </td>
                                                <td width="200px">
                                                    mJ/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_2.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_2.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_2.ToString("F3")
                                                </td>
                                            </tr>

                                        }
                                    }
                                </tbody>
                            </table>
                            <table class="table table-bordered table-striped">
                                <tbody>
                                    @foreach (var item in Model.GiaTriTruocHieuChinhs)
                                    {
                                        if (item.BuocSong == "UV-B")
                                        {
                                            <tr>
                                                <td rowspan="2" width="70px" style="text-align:center;vertical-align:middle">
                                                    <input type="checkbox" class="selectAll2" name="selectedIds2" value="@item.Id" />
                                                </td>
                                                <td rowspan="2" width="50px" style="vertical-align:middle;text-align:center">
                                                    1
                                                </td>
                                                <td rowspan="2" width="140px" style="vertical-align:middle;text-align:center">
                                                    @Html.DisplayFor(modelItem => item.BuocSong)
                                                </td>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_1)
                                                </td>
                                                <td width="200px">
                                                    mW/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_1.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_1.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_1.ToString("F3")
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_2)
                                                </td>
                                                <td width="200px">
                                                    mJ/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_2.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_2.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_2.ToString("F3")
                                                </td>
                                            </tr>

                                        }
                                    }
                                </tbody>
                            </table>
                            <table class="table table-bordered table-striped">
                                <tbody>
                                    @foreach (var item in Model.GiaTriTruocHieuChinhs)
                                    {
                                        if (item.BuocSong == "UV-C")
                                        {
                                            <tr>
                                                <td rowspan="2" width="70px" style="text-align:center;vertical-align:middle">
                                                    <input type="checkbox" class="selectAll2" name="selectedIds2" value="@item.Id" />
                                                </td>
                                                <td rowspan="2" width="50px" style="text-align:center;vertical-align:middle">
                                                    1
                                                </td>
                                                <td rowspan="2" width="140px" style="text-align:center;vertical-align:middle">
                                                    @Html.DisplayFor(modelItem => item.BuocSong)
                                                </td>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_1)
                                                </td>
                                                <td width="200px">
                                                    mW/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_1.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_1.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_1.ToString("F3")
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_2)
                                                </td>
                                                <td width="200px">
                                                    mJ/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_2.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_2.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_2.ToString("F3")
                                                </td>
                                            </tr>

                                        }
                                    }
                                </tbody>
                            </table>
                            <table class="table table-bordered table-striped">
                                <tbody>
                                    @foreach (var item in Model.GiaTriTruocHieuChinhs)
                                    {
                                        if (item.BuocSong == "UV-V")
                                        {
                                            <tr>
                                                <td rowspan="2" width="70px" style="text-align:center;vertical-align:middle">
                                                    <input type="checkbox" class="selectAll2" name="selectedIds2" value="@item.Id" />
                                                </td>
                                                <td rowspan="2" width="50px" style="text-align:center;vertical-align:middle">
                                                    1
                                                </td>
                                                <td rowspan="2" width="140px" style="text-align:center;vertical-align:middle">
                                                    @Html.DisplayFor(modelItem => item.BuocSong)
                                                </td>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_1)
                                                </td>
                                                <td width="200px">
                                                    mW/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_1.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_1.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_1.ToString("F3")
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_2)
                                                </td>
                                                <td width="200px">
                                                    mJ/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_2.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_2.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_2.ToString("F3")
                                                </td>
                                            </tr>

                                        }
                                    }
                                </tbody>
                            </table>
                        }
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="content py-2">
        <div class="container">
            <div class="card">
                <div class="card-header">
                    <div class="form-group form-inline">
                        <div class="row">
                            <div class="col-md-2" style="width:auto">
                                <button class="form-control" style="width: 260px" disabled><span style="color:red" class="fas">KẾT QUẢ HIỆU CHỈNH</span></button>
                            </div>
                            <div class="col-md-2" style="width:auto;">
                                <div class="dropdown-select">
                                    <div class="form-control"><span class="fas fa-list-ul"> Tùy chọn</span></div>
                                    <div class="dropdown-content-select">
                                        <button type="submit" class="editKetQuaHieuChinhButton" name="action" value="Edit">
                                            <span class="fas fa-edit"> Sửa</span>
                                        </button>
                                        <button type="submit" class="deleteKetQuaHieuChinhButton" name="action" value="Delete">
                                            <span class="fas fa-trash"> Xóa</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <a class="form-control form-a-control openAdd1kenhAffterModalBtn" style="text-decoration: none" href="#" data-id="@Model.PhanCong.Id">
                                    <span class="fas fa-plus"> Thêm 1 kênh</span>
                                </a>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <a class="form-control form-a-control openAdd4kenhAffterModalBtn" style="text-decoration: none" href="#" data-id="@Model.PhanCong.Id">
                                    <span class="fas fa-plus"> Thêm 4 kênh</span>
                                </a>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <a class="form-control form-a-control openAddExcelAffterModalBtn" style="text-decoration: none" href="#" data-id="@Model.PhanCong.Id">
                                    <span class="fas fa-plus"> Thêm từ (Excel)</span>
                                </a>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <span class="icon-one" onclick="toggleCardBody(3)">
                                    <ion-icon id="toggle-icon-3" name="arrow-down-outline"></ion-icon>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body hidden" id="card-body-3">
                    <div class="row" style="overflow-x:auto">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th width="70px" style="vertical-align:middle">
                                        <a class="form-control form-a-control openAddDateAffterModalBtn" style="text-decoration: none" href="#" data-id="@Model.PhanCong.Id">
                                            <span class="fas"> Tạo</span>
                                        </a>
                                    </th>
                                    <th width="50px" style="vertical-align:middle">
                                        No.
                                    </th>
                                    <th style="vertical-align:middle">
                                        Ngày (Date:)
                                    </th>
                                    <th style="vertical-align:middle">
                                        Technicial
                                    </th>
                                    <th style="vertical-align:middle">
                                        Lamp System
                                    </th>
                                    <th colspan="2" style="vertical-align:middle">
                                        Bulb / Spectrum
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.NgayTaoTechnicialBuldKetQuaHieuChinhs != null && Model.NgayTaoTechnicialBuldKetQuaHieuChinhs.Any())
                                {
                                    int count = 1;
                                    foreach (var item in Model.NgayTaoTechnicialBuldKetQuaHieuChinhs)
                                    {
                                        <tr>
                                            <td style="text-align: center; vertical-align: middle">
                                                <a class="form-control form-a-control openEditDateAffterModalBtn" style="text-decoration: none" href="#" data-id="@item.Id">
                                                    <span class="fas"> Sửa</span>
                                                </a>
                                            </td>
                                            <td style="vertical-align:middle;text-align:center">
                                                @count
                                            </td>
                                            <td style="vertical-align:middle">
                                                @item.NgayTao.ToString("dd/MM/yyyy")
                                            </td>
                                            <td style="vertical-align:middle">
                                                @item.Technicial
                                            </td>
                                            <td style="vertical-align:middle">
                                                @if (item.Id_LampSystems != null)
                                                {
                                                    @item.LampSystem.Lamp_Systems
                                                }
                                            </td>
                                            <td style="vertical-align:middle">
                                                @if (item.Id_BulbSpectrum != null)
                                                {
                                                    @item.BulbSpectrum.Bulb_Spectrum
                                                }

                                            </td>
                                            <td width="50px">
                                                <a class="form-control form-a-control-delete openDeleteDateAffterModalBtn" style="text-decoration: none" href="#" data-id="@item.Id">
                                                    <span class="fas"> Xóa</span>
                                                </a>
                                            </td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td colspan="10" class="text-center">Không có dữ liệu.</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                        @if (Model.KetQuaHieuChinhs != null && Model.KetQuaHieuChinhs.Any())
                        {
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th width="70px" style="text-align:center;vertical-align:middle">
                                            <input type="checkbox" class="selectAll4" id="selectAll4" />
                                        </th>
                                        <th width="50px" style="text-align:center;vertical-align:middle">
                                            No.
                                        </th>
                                        <th width="140px" style="text-align:center;vertical-align:middle">
                                            Bước sóng
                                        </th>
                                        <th width="200px">
                                            Measurand
                                        </th>
                                        <th width="200px">
                                            Units
                                        </th>
                                        <th width="200px">
                                            Reference
                                        </th>
                                        <th width="200px">
                                            Instrument
                                        </th>
                                        <th>
                                            Deviation
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.KetQuaHieuChinhs)
                                    {
                                        if (item.BuocSong == "UV-A")
                                        {
                                            <tr>
                                                <td rowspan="2" width="70px" style="text-align:center;vertical-align:middle">
                                                    <input type="checkbox" class="selectAll4" name="selectedIds4" value="@item.Id" />
                                                </td>
                                                <td rowspan="2" width="50px" style="text-align:center;vertical-align:middle">
                                                    @(count1++)
                                                </td>
                                                <td rowspan="2" width="140px" style="text-align:center;vertical-align:middle">
                                                    @Html.DisplayFor(modelItem => item.BuocSong)
                                                </td>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_1)
                                                </td>
                                                <td width="200px">
                                                    mW/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_1.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_1.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_1.ToString("F3")
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_2)
                                                </td>
                                                <td width="200px">
                                                    mJ/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_2.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_2.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_2.ToString("F3")
                                                </td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                            <table class="table table-bordered table-striped">
                                <tbody>
                                    @foreach (var item in Model.KetQuaHieuChinhs)
                                    {
                                        if (item.BuocSong == "UV-B")
                                        {
                                            <tr>
                                                <td rowspan="2" width="70px" style="text-align:center;vertical-align:middle">
                                                    <input type="checkbox" class="selectAll4" name="selectedIds4" value="@item.Id" />
                                                </td>
                                                <td rowspan="2" width="50px" style="text-align:center;vertical-align:middle">
                                                    @(count3++)
                                                </td>
                                                <td rowspan="2" width="140px" style="text-align:center;vertical-align:middle">
                                                    @Html.DisplayFor(modelItem => item.BuocSong)
                                                </td>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_1)
                                                </td>
                                                <td width="200px">
                                                    mW/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_1.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_1.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_1.ToString("F3")
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_2)
                                                </td>
                                                <td width="200px">
                                                    mJ/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_2.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_2.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_2.ToString("F3")
                                                </td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                            <table class="table table-bordered table-striped">
                                <tbody>
                                    @foreach (var item in Model.KetQuaHieuChinhs)
                                    {
                                        if (item.BuocSong == "UV-C")
                                        {
                                            <tr>
                                                <td rowspan="2" width="70px" style="text-align:center;vertical-align:middle">
                                                    <input type="checkbox" class="selectAll4" name="selectedIds4" value="@item.Id" />
                                                </td>
                                                <td rowspan="2" width="50px" style="text-align:center;vertical-align:middle">
                                                    @(count5++)
                                                </td>
                                                <td rowspan="2" width="140px" style="text-align:center;vertical-align:middle">
                                                    @Html.DisplayFor(modelItem => item.BuocSong)
                                                </td>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_1)
                                                </td>
                                                <td width="200px">
                                                    mW/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_1.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_1.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_1.ToString("F3")
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_2)
                                                </td>
                                                <td width="200px">
                                                    mJ/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_2.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_2.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_2.ToString("F3")
                                                </td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                            <table class="table table-bordered table-striped">
                                <tbody>
                                    @foreach (var item in Model.KetQuaHieuChinhs)
                                    {
                                        if (item.BuocSong == "UV-V")
                                        {
                                            <tr>
                                                <td rowspan="2" width="70px" style="text-align:center;vertical-align:middle">
                                                    <input type="checkbox" class="selectAll4" name="selectedIds4" value="@item.Id" />
                                                </td>
                                                <td rowspan="2" width="50px" style="text-align:center;vertical-align:middle">
                                                    @(count7++)
                                                </td>
                                                <td rowspan="2" width="140px" style="text-align:center;vertical-align:middle">
                                                    @Html.DisplayFor(modelItem => item.BuocSong)
                                                </td>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_1)
                                                </td>
                                                <td width="200px">
                                                    mW/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_1.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_1.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_1.ToString("F3")
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width="200px">
                                                    @Html.DisplayFor(modelItem => item.Measurand_2)
                                                </td>
                                                <td width="200px">
                                                    mJ/cm&#178;
                                                </td>
                                                <td width="200px">
                                                    @item.Reference_2.ToString("F3")
                                                </td>
                                                <td width="200px">
                                                    @item.Instrument_2.ToString("F3")
                                                </td>
                                                <td>
                                                    @item.Deviation_2.ToString("F3")
                                                </td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        }
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="content py-2">
        <div class="container">
            <div class="card">
                <div class="card-header">
                    <div class="form-group form-inline">
                        <div class="row">
                            <div class="col-md-2" style="width:auto">
                                <button class="form-control" style="width: 260px" disabled><span style="color:red" class="fas">GHI CHÚ</span></button>
                            </div>
                            <div class="col-md-2" style="width:auto;">
                                <div class="dropdown-select">
                                    <div class="form-control"><span class="fas fa-list-ul"> Tùy chọn</span></div>
                                    <div class="dropdown-content-select">
                                        <button type="submit" class="editGhuChuButton" name="action" value="Edit">
                                            <span class="fas fa-edit"> Sửa</span>
                                        </button>
                                        <button type="submit" class="deleteGhuChuButton" name="action" value="Delete">
                                            <span class="fas fa-trash"> Xóa</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <a class="form-control form-a-control openAddGhiChuModalBtn" style="text-decoration: none" href="#" data-id="@Model.PhanCong.Id">
                                    <span class="fas fa-plus"> Thêm ghi chú</span>
                                </a>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                @if (Model.PhanCongGhiChus != null && Model.PhanCongGhiChus.Any())
                                {
                                    foreach (var item in Model.PhanCongGhiChus)
                                    {
                                        using (Html.BeginForm("ExportPdf", "PhanCongGhiChu", FormMethod.Post, new { id = "exportForm_" + item.Id_PhanCong }))
                                        {
                                            @Html.Hidden("id", item.Id_PhanCong)
                                            <a href="#" class="form-control form-a-control downloadLink" data-id="@item.Id_PhanCong" style="text-decoration:none">
                                                <span class="fas fa-file-export">ExportPdf</span>
                                            </a>
                                        }
                                    }
                                }
                            </div>

                            <div class="col-md-2" style="width:auto">
                                <span class="icon-one" onclick="toggleCardBody(7)">
                                    <ion-icon id="toggle-icon-7" name="arrow-down-outline"></ion-icon>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body hidden" id="card-body-7">
                    <div class="row" style="overflow-x:auto">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th width="70px" style="text-align:center;vertical-align:middle">
                                        <input type="checkbox" class="selectAll5" id="selectAll5" />
                                    </th>
                                    <th width="70px" class="text-center" style="vertical-align:middle">
                                        Lần
                                    </th>
                                    <th class="text-center" style="vertical-align:middle">
                                        Nội dung
                                    </th>
                                    <th width="90px" class="text-center" style="vertical-align:middle">
                                        Ngày tạo
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.PhanCongGhiChus != null && Model.PhanCongGhiChus.Any())
                                {
                                    var count = 1;
                                    foreach (var item in Model.PhanCongGhiChus)
                                    {
                                        <tr>
                                            <td style="text-align:center;vertical-align:middle">
                                                <input type="checkbox" class="selectAll5" name="selectedIds5" value="@item.Id" />
                                            </td>
                                            <td class="text-center" style="vertical-align:middle">
                                                @(count++)
                                            </td>
                                            <td style="vertical-align:middle">
                                                @Html.DisplayFor(modelItem => item.GhiChu)
                                            </td>
                                            <td class="text-center" style="vertical-align:middle">
                                                @item.NgayTao.ToString("dd/MM/yyyy")
                                            </td>
                                        </tr>
                                    }
                                }
                                else
                                {

                                    <tr>
                                        <td class="text-center"></td>
                                        <td class="text-center"></td>
                                        <td class="text-center">Không có dữ liệu.</td>
                                        <td class="text-center"></td>
                                        <td class="text-center"></td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section>
        <div class="container" style="margin-top:20px">
            <div class="row">
                <div class="title-header col-md-12" style="text-align:center">
                    <h3><strong style="color:blue">BIÊN BẢN HIỆU CHUẨN</strong></h3>
                </div>
            </div>
        </div>
    </section>
    <section class="content py-2">
        <div class="container">
            <div class="card">
                <div class="card-header">
                    <div class="form-group form-inline">
                        <div class="row">
                            <div class="col-md-2" style="width:auto">
                                <button class="form-control" style="width: 260px" disabled><span style="color:red" class="fas">BIÊN BẢN HIỆU CHUẨN</span></button>
                            </div>
                            <div class="col-md-2" style="width:auto;">
                                <div class="dropdown-select">
                                    <div class="form-control"><span class="fas fa-list-ul"> Tùy chọn</span></div>
                                    <div class="dropdown-content-select">
                                        <button type="submit" class="editBienHanHieuChuanButton" name="action" value="Edit">
                                            <span class="fas fa-edit"> Sửa</span>
                                        </button>
                                        <button type="submit" class="deleteBienBanHieuChuanButton" name="action" value="Delete">
                                            <span class="fas fa-trash"> Xóa</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <a class="form-control form-a-control openAddBienBanModalBtn" style="text-decoration: none" href="#" data-id="@Model.PhanCong.Id">
                                    <span class="fas fa-plus"> Tạo biên bản</span>
                                </a>
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <span class="icon-one" onclick="toggleCardBody(4)">
                                    <ion-icon id="toggle-icon-4" name="arrow-down-outline"></ion-icon>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body hidden" id="card-body-4">
                    <div class="row" style="overflow-x:auto">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th width="70px" style="text-align:center">
                                        <input type="checkbox" class="selectAll6" id="selectAll6" />
                                    </th>
                                    <th>
                                        Mã biên bản
                                    </th>
                                    <th>
                                        Nhiệt độ
                                    </th>
                                    <th>
                                        Độ ẩm
                                    </th>
                                    <th>
                                        Tên TB hiệu chuẩn
                                    </th>
                                    <th>
                                        Số SN
                                    </th>
                                    <th>
                                        Ngày hiệu chuẩn
                                    </th>
                                    <th>
                                        Ngày hết hạn
                                    </th>
                                    <th>
                                        Ngày thực hiện
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.BienBanHieuChuans != null && Model.BienBanHieuChuans.Any())
                                {
                                    foreach (var item in Model.BienBanHieuChuans)
                                    {
                                        <tr>
                                            <td style="text-align:center">
                                                <input type="checkbox" class="selectAll6" name="selectedIds6" value="@item.Id" />
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.MaBienBan)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.NhietDo)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.DoAm)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.TenHieuChuan)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.SN)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Cal_Date)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Due_Day)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.NgayThucHien)
                                            </td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td colspan="10" class="text-center">Không có dữ liệu.</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="content py-2">
        <div class="container">
            <div class="card">
                <div class="card-header">
                    <div class="form-group form-inline">
                        <div class="row">
                            <div class="col-md-2" style="width:auto">
                                <button class="form-control" style="width: 260px" disabled><span style="color:red" class="fas">STD - DUT</span></button>
                            </div>
                            <div class="col-md-2" style="width: auto">
                                <div class="dropdown-select">
                                    <div class="form-control"><span class="fas fa-list-ul"> Tùy chọn</span></div>
                                    <div class="dropdown-content-select">
                                        <button type="submit" class="editSTDButton" name="action" value="Edit">
                                            <span class="fas fa-edit"> Sửa</span>
                                        </button>
                                        <button type="submit" class="deleteSTDButton" name="action" value="Delete">
                                            <span class="fas fa-trash"> Xóa</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2" style="width: auto">
                                @if (Model.BienBanHieuChuans.FirstOrDefault()?.Id != null)
                                {
                                    <a class="form-control form-a-control openAddSTDModalBtn" style="text-decoration: none" href="#" data-id="@Model.BienBanHieuChuans.FirstOrDefault().Id">
                                        <span class="fas fa-plus"> Nhập dữ liệu</span>
                                    </a>
                                }
                                else
                                {
                                    <a href="#" class="form-control form-a-control" onclick="return confirm('Bạn hãy tạo biên bản hiệu chuẩn trước khi thêm STD & DUT !');">
                                        <span class="fas fa-plus"> Nhập dữ liệu</span>
                                    </a>
                                }
                            </div>
                            <div class="col-md-2" style="width: auto">
                                @if (Model.BienBanHieuChuans.FirstOrDefault()?.Id != null)
                                {
                                    <a class="form-control form-a-control openAddExcelSTDModalBtn" style="text-decoration: none" href="#" data-id="@Model.BienBanHieuChuans.FirstOrDefault().Id">
                                        <span class="fas fa-plus"> Nhập từ ( Excel )</span>
                                    </a>
                                }
                                else
                                {
                                    <a href="#" class="form-control form-a-control" onclick="return confirm('Bạn hãy tạo biên bản hiệu chuẩn trước khi thêm STD & DUT !');">
                                        <span class="fas fa-plus"> Nhập từ ( Excel )</span>
                                    </a>
                                }
                            </div>
                            <div class="col-md-2" style="width: auto">
                                @if (Model.STD_DUTs.FirstOrDefault()?.ID != null && countSTD >= 2)
                                {
                                    <a href="#" class="form-control form-a-control addDKDBDButton">
                                        <span class="fas" style="font-size: 1em;">Tính ( ĐKĐBĐ )</span>
                                    </a>
                                }
                                else
                                {
                                    <a href="#" class="form-control form-a-control" onclick="return confirm('Bạn hãy tạo STD & DUT từ 2 giá trị trở lên trước khi tính độ không đảm bảo đo !');">
                                        <span class="fas" style="font-size: 1em;">Tính ( ĐKĐBĐ )</span>
                                    </a>
                                }
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <span class="icon-one" onclick="toggleCardBody(5)">
                                    <ion-icon id="toggle-icon-5" name="arrow-down-outline"></ion-icon>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body hidden" id="card-body-5">
                    <div class="row" style="overflow-x:auto">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th colspan="15">
                                        Dữ liệu STD ( <i style="color:black">Master</i> )
                                    </th>
                                </tr>
                                <tr>
                                    <th width="30px" style="text-align:center">
                                        <input type="checkbox" class="selectAll7" id="selectAll7" />
                                    </th>
                                    <th>
                                        STT
                                    </th>
                                    <th>
                                        Mức kiểm tra
                                    </th>
                                    <th>
                                        Lần 1
                                    </th>
                                    <th>
                                        Lần 2
                                    </th>
                                    <th>
                                        Lần 3
                                    </th>
                                    <th>
                                        Lần 4
                                    </th>
                                    <th>
                                        Lần 5
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.STD_DUTs != null && Model.STD_DUTs.Any())
                                {
                                    var dem = 1;
                                    foreach (var item in Model.STD_DUTs)
                                    {

                                        <tr>
                                            <td width="50px" style="text-align:center">
                                                <input type="checkbox" class="selectAll7" name="selectedIds7" value="@item.ID" />
                                            </td>
                                            <td>
                                                @(dem++)
                                            </td>
                                            <td>
                                                @item.MucKiemTra_STD
                                            </td>
                                            <td>
                                                @item.Lan1_STD
                                            </td>
                                            <td>
                                                @item.Lan2_STD
                                            </td>
                                            <td>
                                                @item.Lan3_STD
                                            </td>
                                            <td>
                                                @item.Lan4_STD
                                            </td>
                                            <td>
                                                @item.Lan5_STD
                                            </td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td colspan="10" class="text-center">Không có dữ liệu.</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th colspan="15">
                                        Dữ liệu DUT ( <i style="color:black">Unit under Test</i> )
                                    </th>
                                </tr>
                                <tr>
                                    <th width="50px" style="text-align:center">
                                    </th>
                                    <th>
                                        STT
                                    </th>
                                    <th>
                                        Mức kiểm tra
                                    </th>
                                    <th>
                                        Lần 1
                                    </th>
                                    <th>
                                        Lần 2
                                    </th>
                                    <th>
                                        Lần 3
                                    </th>
                                    <th>
                                        Lần 4
                                    </th>
                                    <th>
                                        Lần 5
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.STD_DUTs != null && Model.STD_DUTs.Any())
                                {
                                    var count = 1;
                                    foreach (var item in Model.STD_DUTs)
                                    {
                                        <tr>
                                            <td>
                                            </td>
                                            <td>
                                                @(count++)
                                            </td>
                                            <td>
                                                @item.MucKiemTra_DUT
                                            </td>
                                            <td>
                                                @item.Lan1_DUT
                                            </td>
                                            <td>
                                                @item.Lan2_DUT
                                            </td>
                                            <td>
                                                @item.Lan3_DUT
                                            </td>
                                            <td>
                                                @item.Lan4_DUT
                                            </td>
                                            <td>
                                                @item.Lan5_DUT
                                            </td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td colspan="10" class="text-center">Không có dữ liệu.</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="content py-2">
        <div class="container">
            <div class="card">
                <div class="card-header">
                    <div class="form-group form-inline">
                        <div class="row">
                            <div class="col-md-2" style="width:auto">
                                <button class="form-control" style="width: 260px" disabled><span style="color:red" class="fas">ĐỘ KHÔNG ĐẢM BẢO ĐO</span></button>
                            </div>
                            <div class="col-md-2" style="width:auto;">
                                <div class="dropdown-select">
                                    <div class="form-control"><span class="fas fa-list-ul"> Tùy chọn</span></div>
                                    <div class="dropdown-content-select">
                                        <button type="submit" class="deleteDKDBDButton" name="action" value="Delete">
                                            <span class="fas fa-trash"> Xóa</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2" style="width: auto">
                                @if (Model.BienBanHieuChuans.FirstOrDefault()?.Id != null)
                                {
                                    <a class="form-control form-a-control openAddGCNModalBtn" style="text-decoration: none" href="#" data-id="@Model.BienBanHieuChuans.FirstOrDefault().Id">
                                        <span class="fas fa-plus"> Tạo GCN</span>
                                    </a>
                                }
                                else
                                {
                                    <a href="#" class="form-control form-a-control" onclick="return confirm('Bạn hãy tạo biên bản hiệu chuẩn trước khi tạo giấy chứng nhận !');">
                                        <span class="fas fa-plus"> Tạo GCN</span>
                                    </a>
                                }
                            </div>
                            <div class="col-md-2" style="width:auto">
                                <span class="icon-one" onclick="toggleCardBody(6)">
                                    <ion-icon id="toggle-icon-6" name="arrow-down-outline"></ion-icon>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body hidden" id="card-body-6">
                    <div class="row" style="overflow-x:auto">
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th style="text-align:center">
                                        <input type="checkbox" class="selectAll8" id="selectAll8" />
                                    </th>
                                    <th>
                                        STT
                                    </th>
                                    <th>
                                        Mức kiểm tra
                                    </th>
                                    <th>
                                        U<sub>a</sub>(%)
                                    </th>
                                    <th>
                                        U<sub>d</sub>(%)
                                    </th>
                                    <th>
                                        U<sub>cer</sub>(%)
                                    </th>
                                    <th>
                                        U<sub>od_std</sub>(%)
                                    </th>
                                    <th>
                                        U<sub>od</sub>(%)
                                    </th>
                                    <th>
                                        U<sub>dd</sub>(%)
                                    </th>
                                    <th>
                                        U<sub>c</sub>(%)
                                    </th>
                                    <th>
                                        K
                                    </th>
                                    <th>
                                        U. mở rộng(%)
                                    </th>
                                    <th>
                                        Sai số
                                    </th>
                                    <th>
                                        Độ KĐBĐ
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.BanTinhDKDBDs != null && Model.BanTinhDKDBDs.Any())
                                {
                                    var dem10 = 1;
                                    foreach (var item in Model.BanTinhDKDBDs)
                                    {
                                        <tr>
                                            <td style="text-align:center">
                                                <input type="checkbox" class="selectAll8" name="selectedIds8" value="@item.Id" />
                                            </td>
                                            <td>
                                                @(dem10++)
                                            </td>
                                            <td>
                                                @item.MucKiemTra
                                            </td>
                                            <td>
                                                @item.U_a.Value.ToString("F3")
                                            </td>
                                            <td>
                                                @item.U_d.Value.ToString("F3")
                                            </td>
                                            <td>
                                                @item.U_cer.Value.ToString("F3")
                                            </td>
                                            <td>
                                                @item.U_od_std.Value.ToString("F3")
                                            </td>
                                            <td>
                                                @item.U_od.Value.ToString("F3")
                                            </td>
                                            <td>
                                                @item.U_dd.Value.ToString("F3")
                                            </td>
                                            <td>
                                                @item.U_c.Value.ToString("F3")
                                            </td>
                                            <td>
                                                @item.K.Value.ToString("F0")
                                            </td>
                                            <td>
                                                @item.U_morong.Value.ToString("F0")
                                            </td>
                                            <td>
                                                @item.Saiso.Value.ToString("F3")
                                            </td>
                                            <td>
                                                @item.DoDKDB.Value.ToString("F1")
                                            </td>
                                        </tr>
                                    }
                                }
                                else
                                {
                                    <tr>
                                        <td colspan="14" class="text-center">Không có dữ liệu.</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="modal Modal">
        <div class="modal-content">
            <div class="modalContent"></div>
        </div>
    </div>
</div>
<link href="~/Public/Css/DropDown-HieuChinh-HieuChuan.css" rel="stylesheet" />
<script src="~/Public/Js/DropDown-HieuChinh-HieuChuan.js"></script> 
<script>
    window.onclick = function (event) {
        var myDuyetModal = document.querySelector(".Modal");
        if (event.target == myDuyetModal) {
            myDuyetModal.style.display = "none";
        }
    }
</script> 
<script> 
    document.querySelector('.openAddModalBtn').addEventListener("click", function (event) {
    event.preventDefault();
    var id = $(this).data("id");
        $.ajax({
            url: '@Url.Action("Create", "ChuanSuDung", new { ids = "__ID__" })'.replace("__ID__", id),
            type: 'GET',
            success: function (response) {
                $(".modalContent").html(response);
                $(".Modal").show();
            },
            error: function () {
                alert('Có lỗi xảy ra khi tải dữ liệu!');
            }
        });
    }); 
</script>
<script>
    document.querySelector('.editButtonChuanSuDung').addEventListener("click", function (event) {
    event.preventDefault();

    var selectedIds = [];
    document.querySelectorAll('input[name="selectedIds"]:checked').forEach(function (checkbox) {
        selectedIds.push(checkbox.value);
    });

    if (selectedIds.length === 0) {
        alert("Vui lòng chọn ít nhất một mục để sửa.");
        return;
    }

    var url = '@Url.Action("Edit", "ChuanSuDung", new { ids = "__ID__" })';
    url = url.replace("__ID__", selectedIds.join(','));

    $.ajax({
        url: url,
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").show();
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    });
    function closeModal() { 
        $(".Modal").hide();  
    }
</script>
<script>
    document.querySelector('.deleteButtonChuanSuDung').addEventListener("click", function (event) {
    event.preventDefault();

    var selectedIds = [];
    document.querySelectorAll('input[name="selectedIds"]:checked').forEach(function (checkbox) {
        selectedIds.push(checkbox.value);
    });

    if (selectedIds.length === 0) {
        alert("Vui lòng chọn ít nhất một mục để xóa.");
        return;
    }
    var url = '@Url.Action("Delete", "ChuanSuDung", new { ids = "__ID__" })';
    url = url.replace("__ID__", selectedIds.join(','));

    $.ajax({
        url: url,
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector('.openAdd1kenhbeforeModalBtn').addEventListener('click', function (event) {
        event.preventDefault();
        var id = $(this).data("id");
        $.ajax({
            url: '@Url.Action("Them1kenh", "GiaTriTruocHieuChinh", new { ids = "__ID__" })'.replace("__ID__", id),
            type: 'GET',
            success: function (response) {
                $(".modalContent").html(response);
                $(".Modal").show();
            },
            error: function () {
                alert('Có lỗi xảy ra khi tải dữ liệu!');
            }
        });
    }); 
</script>
<script>
    document.querySelector(".openAdd4kenhbeforeModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("Them4kenh", "GiaTriTruocHieuChinh", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").show();
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector('.openAddExcelbeforeModalBtn').addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("ImportExcel", "GiaTriTruocHieuChinh", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").show();
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector('.editButtonGiaTriTruoc').addEventListener("click", function (event) {
        event.preventDefault();

        var selectedIds2 = [];
        document.querySelectorAll('input[name="selectedIds2"]:checked').forEach(function (checkbox) {
            selectedIds2.push(checkbox.value);
        });

        if (selectedIds2.length === 0) {
            alert("Vui lòng chọn ít nhất một mục để sửa.");
            return;
        }

        var url = '@Url.Action("Edit", "GiaTriTruocHieuChinh", new { ids = "__ID__" })';
        url = url.replace("__ID__", selectedIds2.join(','));

        $.ajax({
            url: url,
            type: 'GET',
            success: function (response) {
                $(".modalContent").html(response);
                $(".Modal").css("display", "block");
            },
            error: function () {
                alert('Có lỗi xảy ra khi tải dữ liệu!');
            }
        });
    }); 
</script>
<script>
    document.querySelector('.deleteButtonGiaTriTruoc').addEventListener("click", function (event) {
        event.preventDefault();

        var selectedIds2 = [];
        document.querySelectorAll('input[name="selectedIds2"]:checked').forEach(function (checkbox) {
            selectedIds2.push(checkbox.value);
        });

        if (selectedIds2.length === 0) {
            alert("Vui lòng chọn ít nhất một mục để xóa.");
            return;
        }
        var url = '@Url.Action("Delete", "GiaTriTruocHieuChinh", new { ids = "__ID__" })';
        url = url.replace("__ID__", selectedIds2.join(','));

        $.ajax({
            url: url,
            type: 'GET',
            success: function (response) {
                $(".modalContent").html(response);
                $(".Modal").css("display", "block");
            },
            error: function () {
                alert('Có lỗi xảy ra khi tải dữ liệu!');
            }
        });
    }); 
</script>
<script>
    document.querySelector(".openAddDatebeforeModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("ThemNgay", "GiaTriTruocHieuChinh", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
            $('.idDropdown').select2({
                width: '100%'
            });
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector(".openEditDatebeforeModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("EditNgay", "GiaTriTruocHieuChinh", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
            $('.idDropdown').select2({
                width: '100%'
            });
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector(".openDeleteDatebeforeModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("XoaNgay", "GiaTriTruocHieuChinh", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector('.editKetQuaHieuChinhButton').addEventListener("click", function (event) {
        event.preventDefault();

        var selectedIds4 = [];
        document.querySelectorAll('input[name="selectedIds4"]:checked').forEach(function (checkbox) {
            selectedIds4.push(checkbox.value);
        });

        if (selectedIds4.length === 0) {
            alert("Vui lòng chọn ít nhất một mục để sửa.");
            return;
        }
       var url = '@Url.Action("Edit", "KetQuaHieuChinh", new { ids = "__ID__" })';
        url = url.replace("__ID__", selectedIds4.join(','));

        $.ajax({
            url: url,
            type: 'GET',
            success: function (response) {
                $(".modalContent").html(response);
                $(".Modal").css("display", "block");
            },
            error: function () {
                alert('Có lỗi xảy ra khi tải dữ liệu!');
            }
        });
    }); 
</script>
<script>
    document.querySelector('.deleteKetQuaHieuChinhButton').addEventListener("click", function (event) {
        event.preventDefault();

        var selectedIds4 = [];
        document.querySelectorAll('input[name="selectedIds4"]:checked').forEach(function (checkbox) {
            selectedIds4.push(checkbox.value);
        });

        if (selectedIds4.length === 0) {
            alert("Vui lòng chọn ít nhất một mục để xóa.");
            return;
        }
       var url = '@Url.Action("Delete", "KetQuaHieuChinh", new { ids = "__ID__" })';
        url = url.replace("__ID__", selectedIds4.join(','));

        $.ajax({
            url: url,
            type: 'GET',
            success: function (response) {
                $(".modalContent").html(response);
                $(".Modal").css("display", "block");
            },
            error: function () {
                alert('Có lỗi xảy ra khi tải dữ liệu!');
            }
        });
    }); 
</script>
<script>
    document.querySelector(".openAdd1kenhAffterModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("Them1kenh", "KetQuaHieuChinh", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector(".openAdd4kenhAffterModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("Them4kenh", "KetQuaHieuChinh", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector(".openAddExcelAffterModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("ImportExcel", "KetQuaHieuChinh", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector(".openAddDateAffterModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("ThemNgay", "KetQuaHieuChinh", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
            $('.idDropdown').select2({
                width: '100%'
            });
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector(".openEditDateAffterModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("EditNgay", "KetQuaHieuChinh", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
            $('.idDropdown').select2({
                width: '100%'
            });
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector(".openDeleteDateAffterModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("XoaNgay", "KetQuaHieuChinh", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector('.editGhuChuButton').addEventListener("click", function (event) {
        event.preventDefault();

        var selectedIds5 = [];
        document.querySelectorAll('input[name="selectedIds5"]:checked').forEach(function (checkbox) {
            selectedIds5.push(checkbox.value);
        });

        if (selectedIds5.length === 0) {
            alert("Vui lòng chọn ít nhất một mục để sửa.");
            return;
        }

         var url = '@Url.Action("Chinhsua", "PhanCongGhiChu", new { id = "__ID__" })';
        url = url.replace("__ID__", selectedIds5.join(','));

        $.ajax({
            url: url,
            type: 'GET',
            success: function (response) {
                $(".modalContent").html(response);
                $(".Modal").css("display", "block");
            },
            error: function () {
                alert('Có lỗi xảy ra khi tải dữ liệu!');
            }
        });
    }); 
</script>
<script>
    document.querySelector('.deleteGhuChuButton').addEventListener("click", function (event) {
        event.preventDefault();

        var selectedIds5 = [];
        document.querySelectorAll('input[name="selectedIds5"]:checked').forEach(function (checkbox) {
            selectedIds5.push(checkbox.value);
        });

        if (selectedIds5.length === 0) {
            alert("Vui lòng chọn ít nhất một mục để xóa.");
            return;
        }

         var url = '@Url.Action("Xoa", "PhanCongGhiChu", new { id = "__ID__" })';
        url = url.replace("__ID__", selectedIds5.join(','));

        $.ajax({
            url: url,
            type: 'GET',
            success: function (response) {
                $(".modalContent").html(response);
                $(".Modal").css("display", "block");
            },
            error: function () {
                alert('Có lỗi xảy ra khi tải dữ liệu!');
            }
        });
    }); 
</script>
<script>
    document.querySelector(".openAddGhiChuModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("ThemGhiChu", "PhanCongGhiChu", new { id = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector('.editBienHanHieuChuanButton').addEventListener("click", function (event) {
        event.preventDefault();

        var selectedIds6 = [];
        document.querySelectorAll('input[name="selectedIds6"]:checked').forEach(function (checkbox) {
            selectedIds6.push(checkbox.value);
        });

        if (selectedIds6.length === 0) {
            alert("Vui lòng chọn ít nhất một mục để sửa.");
            return;
        }

        var url = '@Url.Action("Edit", "BienBanHieuChuan", new { ids = "__ID__" })';
        url = url.replace("__ID__", selectedIds6.join(','));

        $.ajax({
            url: url,
            type: 'GET',
            success: function (response) {
                $(".modalContent").html(response);
                $(".Modal").css("display", "block");
            },
            error: function () {
                alert('Có lỗi xảy ra khi tải dữ liệu!');
            }
        });
    }); 
</script>
<script>
    document.querySelector('.deleteBienBanHieuChuanButton').addEventListener("click", function (event) {
        event.preventDefault();

        var selectedIds6 = [];
        document.querySelectorAll('input[name="selectedIds6"]:checked').forEach(function (checkbox) {
            selectedIds6.push(checkbox.value);
        });

        if (selectedIds6.length === 0) {
            alert("Vui lòng chọn ít nhất một mục để xóa.");
            return;
        }
        var url = '@Url.Action("Delete", "BienBanHieuChuan", new { ids = "__ID__" })';
        url = url.replace("__ID__", selectedIds6.join(','));

        $.ajax({
            url: url,
            type: 'GET',
            success: function (response) {
                $(".modalContent").html(response);
                $(".Modal").css("display", "block");
            },
            error: function () {
                alert('Có lỗi xảy ra khi tải dữ liệu!');
            }
        });
    }); 
</script>
<script>
    document.querySelector(".openAddBienBanModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("Taobienbanhieuchuan", "BienBanHieuChuan", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector('.editSTDButton').addEventListener("click", function (event) {
        event.preventDefault();

        var selectedIds7 = [];
        document.querySelectorAll('input[name="selectedIds7"]:checked').forEach(function (checkbox) {
            selectedIds7.push(checkbox.value);
        });

        if (selectedIds7.length === 0) {
            alert("Vui lòng chọn ít nhất một mục để sửa.");
            return;
        }
        var url = '@Url.Action("ChinhSua", "STD_DUT", new { ids = "__ID__" })';
        url = url.replace("__ID__", selectedIds7.join(','));

        $.ajax({
            url: url,
            type: 'GET',
            success: function (response) {
                $(".modalContent").html(response);
                $(".Modal").css("display", "block");
            },
            error: function () {
                alert('Có lỗi xảy ra khi tải dữ liệu!');
            }
        });
    }); 
</script>
<script>
    document.querySelector('.deleteSTDButton').addEventListener("click", function (event) {
        event.preventDefault();

        var selectedIds7 = [];
        document.querySelectorAll('input[name="selectedIds7"]:checked').forEach(function (checkbox) {
            selectedIds7.push(checkbox.value);
        });

        if (selectedIds7.length === 0) {
            alert("Vui lòng chọn ít nhất một mục để xóa.");
            return;
        }
        var url = '@Url.Action("Delete", "STD_DUT", new { ids = "__ID__" })';
        url = url.replace("__ID__", selectedIds7.join(','));

        $.ajax({
            url: url,
            type: 'GET',
            success: function (response) {
                $(".modalContent").html(response);
                $(".Modal").css("display", "block");
            },
            error: function () {
                alert('Có lỗi xảy ra khi tải dữ liệu!');
            }
        });
    }); 
</script>
<script>
    document.querySelector(".openAddSTDModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("Tao_STD_DUT", "STD_DUT", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector(".openAddExcelSTDModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("ImportExcel", "STD_DUT", new { ids = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector('.addDKDBDButton').addEventListener("click", function (event) {
    event.preventDefault();

    var selectedIds7 = [];
    document.querySelectorAll('input[name="selectedIds7"]:checked').forEach(function (checkbox) {
        selectedIds7.push(checkbox.value);
    });

    if (selectedIds7.length === 1 || selectedIds7.length === 0) {
        alert("Vui lòng chọn ít nhất 2 mục để tạo độ không đảm bảo đo.");
        return;
    }

    var url = '@Url.Action("Tao_TB_STD", "TB_STD", new { ids = "__ID__" })';
    url = url.replace("__ID__", selectedIds7.join(','));

    $.ajax({
        url: url,
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
     document.querySelector('.deleteDKDBDButton').addEventListener("click", function (event) {
    event.preventDefault();

         var selectedIds8 = [];
         document.querySelectorAll('input[name="selectedIds8"]:checked').forEach(function (checkbox) {
        selectedIds8.push(checkbox.value);
    });

         if (selectedIds8.length === 0) {
        alert("Vui lòng chọn ít nhất một mục để xóa.");
        return;
    }

    var url = '@Url.Action("XoaDKDBD", "BanTinhDKDBD", new { ids = "__ID__" })';
         url = url.replace("__ID__", selectedIds8.join(','));

    $.ajax({
        url: url,
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.querySelector(".openAddGCNModalBtn").addEventListener('click', function (event) {
        event.preventDefault();
    var id = $(this).data("id");
    $.ajax({
        url: '@Url.Action("Tao_giaychungnhan", "Giaychungnhan", new { id = "__ID__" })'.replace("__ID__", id),
        type: 'GET',
        success: function (response) {
            $(".modalContent").html(response);
            $(".Modal").css("display", "block");
        },
        error: function () {
            alert('Có lỗi xảy ra khi tải dữ liệu!');
        }
    });
    }); 
</script>
<script>
    document.getElementById('selectAll2').addEventListener('change', function () {
        var isChecked = this.checked;
        document.querySelectorAll('input[name="selectedIds2"]').forEach(function (checkbox) {
            checkbox.checked = isChecked;
        });
    });
    document.getElementById('selectAll4').addEventListener('change', function () {
        var isChecked = this.checked;
        document.querySelectorAll('input[name="selectedIds4"]').forEach(function (checkbox) {
            checkbox.checked = isChecked;
        });
    });
    document.getElementById('selectAll5').addEventListener('change', function () {
        var isChecked = this.checked;
        document.querySelectorAll('input[name="selectedIds5"]').forEach(function (checkbox) {
            checkbox.checked = isChecked;
        });
    });
    document.getElementById('selectAll6').addEventListener('change', function () {
        var isChecked = this.checked;
        document.querySelectorAll('input[name="selectedIds6"]').forEach(function (checkbox) {
            checkbox.checked = isChecked;
        });
    });
    document.getElementById('selectAll7').addEventListener('change', function () {
        var isChecked = this.checked;
        document.querySelectorAll('input[name="selectedIds7"]').forEach(function (checkbox) {
            checkbox.checked = isChecked;
        });
    });
    document.getElementById('selectAll8').addEventListener('change', function () {
        var isChecked = this.checked;
        document.querySelectorAll('input[name="selectedIds8"]').forEach(function (checkbox) {
            checkbox.checked = isChecked;
        });
    });
</script>
<script>
    $(document).ready(function () {
        $(".downloadLink").click(function (e) {
            e.preventDefault();

            var form = $(this).closest('form');
            var formData = form.serialize();

            $("#loading").show();

            $.ajax({
                url: form.attr("action"),
                type: 'POST',
                data: formData,
                xhrFields: {
                    responseType: 'blob'
                },
                success: function (data) {
                    var blob = new Blob([data], { type: 'application/pdf' });
                    var link = document.createElement('a');
                    link.href = URL.createObjectURL(blob);
                    link.download = 'PhieuGhiChuQuaTrinhThucHien.pdf';
                    link.click();

                    $("#loading").hide();
                },
                error: function () {
                    alert('Có lỗi xảy ra khi tải PDF.');
                    $("#loading").hide();
                }
            });
        });
    });

</script>
